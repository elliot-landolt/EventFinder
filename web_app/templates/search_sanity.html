{% extends "bootstrap_5_layout.html" %}
{% set page_title = "Verify Destination" %}
{% set active_page = "verifyDest" %}

{% block content %}
    <div class="container" style="max-width: 350px;">
        <form action="/search/validation" method="POST">
            <h3>Is this correct?</h3>
            <dl class="row">
                {% for key, value in sanity_check.items() %}
                <div class="d-flex mb-2">
                    <dt class="flex-shrink-0 me-2">{{ key }}</dt>
                    <dd class="flex-grow-1 mb-0">{{ value }}</dd>
                </div>
                {% endfor %}
            </dl>

            <iframe width="425" height="350" 
            src="https://www.openstreetmap.org/export/embed.html?{{bbox | urlencode}}&amp;layer=mapnik" 
            style="border: 1px solid black"></iframe>
            <script>
                function updateMap(bbox) {
                    const iframe = document.getElementById("osmMap");
                    iframe.src = `https://www.openstreetmap.org/export/embed.html?bbox=${bbox}&amp;layer=mapnik`;
                }
            
                // Example: Dynamically update with a new bounding box
                const newBbox = "-87.9000,41.7000,-87.6000,42.0000";
                updateMap(newBbox);
            </script>

            <button class="btn btn-success">Yes</button>
            <button class="btn btn-danger">No</button>
        </form>
    </div>

{% endblock %}